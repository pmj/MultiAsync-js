<!DOCTYPE html>
<html>
<head>
<title>6 - What if</title>
<link rel="stylesheet" type="text/css" href="talk.css">
<link rel="next" href="7.html">
<link rel="prev" href="6.html">
</head>
<body>
<h1>What if we could write</h1>

<div class="javascript"><ol><li class="li1"><div class="de1"><span class="kw2">function</span> showUserScores<span class="br0">&#40;</span>users<span class="sy0">,</span> scores<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li>
<li class="li1"><div class="de1">&nbsp; <span class="kw2">var</span> user_scores <span class="sy0">=</span> matchScoresToUsers<span class="br0">&#40;</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; scores<span class="sy0">,</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; users<span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li2"><div class="de2">&nbsp; showScores<span class="br0">&#40;</span>user_scores<span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1"><span class="kw2">var</span> handler <span class="sy0">=</span> <span class="kw2">new</span> AsyncHandler<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li1"><div class="de1">jQuery.<span class="me1">getJSON</span><span class="br0">&#40;</span><span class="st0">&quot;/users&quot;</span><span class="sy0">,</span></div></li>
<li class="li2"><div class="de2">&nbsp; handler.<span class="me1">cb</span><span class="br0">&#40;</span> &nbsp; &nbsp;<span class="co1">// generate callback so handler depends on completion</span></div></li>
<li class="li1"><div class="de1">&nbsp; &nbsp; showUsers<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// additional (immediate) callback</span></div></li>
<li class="li1"><div class="de1">jQuery.<span class="me1">getJSON</span><span class="br0">&#40;</span><span class="st0">&quot;/scores&quot;</span><span class="sy0">,</span> handler.<span class="me1">cb</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li>
<li class="li1"><div class="de1">&nbsp;</div></li>
<li class="li1"><div class="de1">handler.<span class="me1">whenDone</span><span class="br0">&#40;</span>showUserScores<span class="br0">&#41;</span><span class="sy0">;</span></div></li>
</ol></div>

</body></html>